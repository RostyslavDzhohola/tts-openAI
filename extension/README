1. Make sure to not test the extension in the chrome://extensions/ page. It will give an error and make you think that this will not work on regular page. Always specify error condition to check if it is chrome://extensions/ page.
This is related specifically to content.js and content_scripts injection.
2. 